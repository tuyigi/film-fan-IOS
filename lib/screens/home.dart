import 'dart:convert';import 'package:film_fan_ios/configs/config.dart';import 'package:film_fan_ios/models/movie.dart';import 'package:flutter/material.dart';import 'package:http/http.dart' as http;class Home extends StatefulWidget{  @override  State<StatefulWidget> createState() {    // TODO: implement createState    return _home();  }}class _home extends State<Home>{  bool isLoadingMovie=false;  Config config=new Config();  late Future<List<Movie>> movies;  // parse product  List<Movie> parseProducts(String responseBody) {    final body = json.decode(responseBody);    final parsed =body['results'].cast<Map<String, dynamic>>();    return parsed.map<Movie>((json) =>Movie.fromMap(json)).toList();  }  // fetch now playing movie  Future<List<Movie>> fetchMovies() async {    setState(() {      isLoadingMovie=true;    });    final response = await http.get(Uri.parse(config.NOW_PLAYING+"?api_key="+config.API_KEY+"&language=en-US&page=1"));    if (response.statusCode == 200) {      print(response.body);      setState(() {        isLoadingMovie=false;      });      return parseProducts(response.body);    } else {      throw Exception('Failed to parse movies');    }  }  @override  void initState() {    // TODO: implement initState    super.initState();    movies=fetchMovies();  }  @override  Widget build(BuildContext context) {    // TODO: implement build    return Scaffold(    body: Column(      children: [        SizedBox(height: 0,),        Container(height: 80,color: Colors.blue,child:          Padding(padding: EdgeInsets.only(top:17),child: Row(children: [            IconButton(onPressed: (){}, icon:Icon(Icons.slow_motion_video_sharp,color: Colors.white,)),            Text("Film Fan",style: TextStyle(color: Colors.white,fontSize:18),),            Spacer(),IconButton(onPressed: (){}, icon:Icon(Icons.favorite_border))          ],)),),        SingleChildScrollView(          child:Column(children: [            ListTile(              leading:Icon(Icons.slow_motion_video_sharp),              title: Text("Movie title"),              subtitle: Column(crossAxisAlignment: CrossAxisAlignment.start,children: [Text("Popurality"),Text("rating")],),)          ],),),      ],    ),);  }}